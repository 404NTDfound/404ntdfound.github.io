{"version":3,"sources":["webpack:///./src/components/Booklist.vue?9bbd","webpack:///./src/components/Booklist.vue?6105","webpack:///src/components/Booklist.vue","webpack:///./src/components/Booklist.vue?5794","webpack:///./src/components/Booklist.vue","webpack:///./src/views/Searchview.vue?54d5","webpack:///./src/views/Searchview.vue?a5c9","webpack:///src/views/Searchview.vue","webpack:///./src/views/Searchview.vue?65cb","webpack:///./src/views/Searchview.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Booklist_vue_vue_type_style_index_0_id_447eda0f_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Booklist_vue_vue_type_style_index_0_id_447eda0f_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","item","index","key","attrs","span","nativeOn","click","$event","gotoDetail","_id","src","cuturl","cover","slot","_v","_s","title","shortIntro","author","staticRenderFns","Booklistvue_type_script_lang_js_","name","props","data","methods","bookid","$router","push","query","id","components_Booklistvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Searchview_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Searchview_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0___default","directives","rawName","value","expression","modifiers","fullscreen","lock","element-loading-text","element-loading-spinner","element-loading-background","list","booklist","_e","nomore","Searchviewvue_type_script_lang_js_","inject","Kword","loading","savelist","uppage","components","Booklist","Topnav","created","_this","parmeword","$route","Kw","axios","get","concat","then","res","books","slice","catch","err","console","error","mounted","canLoad","self","toload","document","querySelector","onscroll","offsetTop","window","innerHeight","documentElement","scrollTop","setTimeout","beforeRouteUpdate","to","from","next","reload","views_Searchviewvue_type_script_lang_js_"],"mappings":"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","file":"js/Searchview.bb392e76.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Booklist.vue?vue&type=style&index=0&id=447eda0f&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Booklist.vue?vue&type=style&index=0&id=447eda0f&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"Booklist\"},[_c('el-row',_vm._l((_vm.list),function(item,index){return _c('el-col',{key:index,staticClass:\"book\",attrs:{\"span\":24},nativeOn:{\"click\":function($event){return _vm.gotoDetail(item._id)}}},[_c('el-col',{attrs:{\"span\":8}},[_c('el-image',{staticClass:\"bookcover\",attrs:{\"src\":_vm.cuturl+item.cover}},[_c('div',{staticClass:\"image-slot\",attrs:{\"slot\":\"placeholder\"},slot:\"placeholder\"},[_vm._v(\"\\n            加载中\\n            \"),_c('span',{staticClass:\"dot\"},[_vm._v(\"...\")])])])],1),_c('el-col',{attrs:{\"span\":16}},[_c('div',{staticClass:\"book-info\"},[_c('h4',[_vm._v(_vm._s(item.title))]),_c('p',[_vm._v(_vm._s(item.shortIntro))]),_c('span',[_c('i',{staticClass:\"el-icon-user\"}),_vm._v(\"\\n            \"+_vm._s(item.author)+\"\\n          \")])])])],1)}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"Booklist\">\r\n    <el-row>\r\n      <el-col\r\n        :span=\"24\"\r\n        v-for=\"(item, index) in list\"\r\n        :key=\"index\"\r\n        class=\"book\"\r\n        @click.native=\"gotoDetail(item._id)\"\r\n      >\r\n        <el-col :span=\"8\">\r\n          <el-image :src=\"cuturl+item.cover\" class=\"bookcover\">\r\n            <div slot=\"placeholder\" class=\"image-slot\">\r\n              加载中\r\n              <span class=\"dot\">...</span>\r\n            </div>\r\n          </el-image>\r\n        </el-col>\r\n        <el-col :span=\"16\">\r\n          <div class=\"book-info\">\r\n            <h4>{{item.title}}</h4>\r\n            <p>{{item.shortIntro}}</p>\r\n            <span>\r\n              <i class=\"el-icon-user\"></i>\r\n              {{item.author}}\r\n            </span>\r\n          </div>\r\n        </el-col>\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: \"Booklist\",\r\n  props: [\"list\"],\r\n  data() {\r\n    return {\r\n      cuturl: \"http://statics.zhuishushenqi.com\"\r\n    };\r\n  },\r\n  methods: {\r\n    gotoDetail(bookid) {\r\n      this.$router.push({\r\n        name: \"Bookdetail\",\r\n        query: {\r\n          id: bookid\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.Booklist {\r\n  border-top: 1px solid #d3d3d3;\r\n  .book {\r\n    text-align: left;\r\n    box-sizing: border-box;\r\n    padding: 5px;\r\n    border-bottom: 1px solid #d3d3d3;\r\n    overflow: hidden;\r\n    .bookcover {\r\n      font-size: 0;\r\n      display: block;\r\n      margin-right: 0.5rem;\r\n      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);\r\n\r\n      img {\r\n        // max-width: 100%;\r\n        width: 4.125rem;\r\n        height: 5.5rem;\r\n        display: block;\r\n      }\r\n    }\r\n\r\n    .book-info {\r\n      line-height: 1.1875rem;\r\n      h4 {\r\n        margin-top: 15px;\r\n        padding: 0;\r\n      }\r\n      p {\r\n        font-size: 0.8rem;\r\n        display: inline-block;\r\n        line-height: 1.1875rem;\r\n        overflow: hidden;\r\n        width: 100%;\r\n        height: 2.25rem;\r\n        word-break: break-all;\r\n        margin: 0.375rem 0;\r\n        color: #969ba3;\r\n        text-overflow: ellipsis;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Booklist.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Booklist.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Booklist.vue?vue&type=template&id=447eda0f&scoped=true&\"\nimport script from \"./Booklist.vue?vue&type=script&lang=js&\"\nexport * from \"./Booklist.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Booklist.vue?vue&type=style&index=0&id=447eda0f&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"447eda0f\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Searchview.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Searchview.vue?vue&type=style&index=0&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading.fullscreen.lock\",value:(_vm.loading),expression:\"loading\",modifiers:{\"fullscreen\":true,\"lock\":true}}],attrs:{\"element-loading-text\":\"正在翻开绘卷\",\"element-loading-spinner\":\"el-icon-loading\",\"element-loading-background\":\"rgba(255, 255, 255, 0.8)\"}},[_c('Topnav'),_c('Booklist',{attrs:{\"list\":_vm.booklist}}),(_vm.nomore)?_c('span',[_vm._v(\"抱歉，没有更多书籍了\")]):_vm._e(),(!_vm.nomore)?_c('i',{staticClass:\"loading el-icon-loading\"}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div\r\n    v-loading.fullscreen.lock=\"loading\"\r\n    element-loading-text=\"正在翻开绘卷\"\r\n    element-loading-spinner=\"el-icon-loading\"\r\n    element-loading-background=\"rgba(255, 255, 255, 0.8)\"\r\n  >\r\n    <Topnav></Topnav>\r\n    <Booklist :list=\"booklist\"></Booklist>\r\n    <span v-if=\"nomore\">抱歉，没有更多书籍了</span>\r\n    <i class=\"loading el-icon-loading\" v-if=\"!nomore\"></i>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Booklist from \"../components/Booklist.vue\";\r\nimport Topnav from \"../components/Topnav.vue\";\r\nexport default {\r\n  name: \"Searchview\",\r\n  inject: [\"reload\"],\r\n  data() {\r\n    return {\r\n      Kword: null,\r\n      booklist: [],\r\n      loading: true,\r\n      nomore: false,\r\n      savelist: [],\r\n      uppage: 11\r\n    };\r\n  },\r\n  components: {\r\n    Booklist,\r\n    Topnav\r\n  },\r\n  created() {\r\n    let parmeword = this.$route.query;\r\n    this.Kword = parmeword.Kw;\r\n    axios\r\n      .get(\r\n        `https://api.kele8.cn/agent?url=http://api.zhuishushenqi.com/book/fuzzy-search?query=${\r\n          this.Kword\r\n        }`\r\n      )\r\n      .then(res => {\r\n        this.savelist = res.data.books;\r\n        this.booklist = this.savelist.slice(0, 10);\r\n        this.loading = false;\r\n      })\r\n      .catch(err => {\r\n        console.error(err);\r\n      });\r\n  },\r\n  mounted() {\r\n    var canLoad = true;\r\n    let self = this;\r\n    let toload = document.querySelector(\".loading\");\r\n    document.onscroll = function() {\r\n      if (\r\n        toload.offsetTop <=\r\n        window.innerHeight + document.documentElement.scrollTop\r\n      ) {\r\n        if (canLoad == true) {\r\n          canLoad = false;\r\n          self.uppage += 10;\r\n          self.booklist = self.booklist.concat(\r\n            self.savelist.slice(self.uppage, self.uppage + 10)\r\n          );\r\n          setTimeout(() => {\r\n            canLoad = true;\r\n          }, 100);\r\n        }\r\n      }\r\n    };\r\n  },\r\n  beforeRouteUpdate(to, from, next) {\r\n    this.reload();\r\n    next();\r\n  }\r\n};\r\n</script>\r\n<style lang=\"less\">\r\n.Booklist {\r\n  margin-top: 0;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Searchview.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Searchview.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Searchview.vue?vue&type=template&id=4527c758&\"\nimport script from \"./Searchview.vue?vue&type=script&lang=js&\"\nexport * from \"./Searchview.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Searchview.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}